<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>length of path | Duck Ridge</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta name="description" content="Calculate the Sum of Distances Using Navigation2D in GodotThis post explains how to calculate the total distance between two points when using Godot’s Navigation2D system.  Compatibility Note: The sol">
<meta property="og:type" content="website">
<meta property="og:title" content="Length of Path">
<meta property="og:url" content="http://duck-ridge.github.io/2024/Length_Path.html">
<meta property="og:site_name" content="Duck Ridge">
<meta property="og:description" content="Calculate the Sum of Distances Using Navigation2D in GodotThis post explains how to calculate the total distance between two points when using Godot’s Navigation2D system.  Compatibility Note: The sol">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-05-06T14:31:29.000Z">
<meta property="article:modified_time" content="2025-01-19T13:22:54.030Z">
<meta property="article:author" content="Todd Huang">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Duck Ridge" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.gif">
  <link rel="apple-touch-icon" href="/css/images/mylogo.gif">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt; src:url("/css/fonts/FuturaPTBold.otf") format("woff");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt-light; src:url("/css/fonts/FuturaPTBook.otf") format("woff");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt-italic; src:url("/css/fonts/FuturaPTBookOblique.otf") format("woff");font-weight:400;font-style:italic;}
}

  </style>
  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/jquery-3.1.1.min.js"></script>

  
<script src="/js/bootstrap.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    
<link rel="stylesheet" href="/css/dialog.css">

  

  

  
    <link rel="stylesheet" href="/css/header-post.css" >
  

  
    <link rel="stylesheet" href="/css/archive.css" >
  
  
  

<meta name="generator" content="Hexo 6.3.0"></head>



  <body>


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                 >
                  <img width="124px" height="124px" alt="Hike News" src="/css/images/mylogo.gif">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">Home</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">Archives</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">About</a> </li>
                
                  <li><div id="search-form-wrap">

    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="index.search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://duck-ridge.github.io"></form>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="page-"  class="article article-type-page" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      Length of Path
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2024/Length_Path.html" class="article-date">
	  <time datetime="2023-05-06T14:31:29.000Z" itemprop="datePublished">2023-05-06</time>
	</a>

      
      
      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Calculate-the-Sum-of-Distances-Using-Navigation2D-in-Godot"><a href="#Calculate-the-Sum-of-Distances-Using-Navigation2D-in-Godot" class="headerlink" title="Calculate the Sum of Distances Using Navigation2D in Godot"></a>Calculate the Sum of Distances Using Navigation2D in Godot</h1><p>This post explains how to calculate the total distance between two points when using Godot’s Navigation2D system.</p>
<ul>
<li>Compatibility Note: The solution is tailored for Godot 3.5. If you’re using a later version, be aware that changes to the Navigation2D system might require adjustments.</li>
<li>Why This Solution: Godot doesn’t provide a built-in function to directly calculate the total path length, which is why I created this method.</li>
</ul>
<h1 id="Scenario"><a href="#Scenario" class="headerlink" title="Scenario"></a>Scenario</h1><p>In a game where monsters chase players, the Navigation2D system can automatically generate and update a path for the enemy to follow the player. The path consists of a series of turning points. The enemy moves from one turning point to the next until it reaches the target (player).</p>
<p>To calculate the total path length, we need to sum up the distances between all consecutive turning points.</p>
<p>Below is an illustration of the situation:</p>
<ul>
<li>Enemy starts at its current position.</li>
<li>The path to the player is broken into multiple segments, each represented by straight lines connecting adjacent turning points.</li>
<li>The total distance is the sum of the lengths of these segments.</li>
</ul>
<h1 id="Solution-Code-Example"><a href="#Solution-Code-Example" class="headerlink" title="Solution: Code Example"></a>Solution: Code Example</h1><p>Here’s how to calculate the total distance:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#calculate the distance from enemy to player</span><br><span class="line">func measure_distance_enemy_player():</span><br><span class="line">  # the &quot;turning_points&quot; is PoolVector2Array which means this is the array with</span><br><span class="line">	var turning_points = $Navigation2D.get_simple_path($Navigation2D/Enemy_test.global_position, $Player.global_position)</span><br><span class="line">	var points_size = turning_points.size()</span><br><span class="line">	var points_distance_sum = 0</span><br><span class="line"></span><br><span class="line">	for point in (points_size - 1):</span><br><span class="line">		var single_distance = turning_points[point].distance_to(turning_points[point + 1])</span><br><span class="line">		points_distance_sum += single_distance</span><br><span class="line"></span><br><span class="line">	distance_enemy_player = points_distance_sum</span><br></pre></td></tr></table></figure>

<h1 id="Explanation"><a href="#Explanation" class="headerlink" title="Explanation"></a>Explanation</h1><p>Path Calculation:</p>
<ol>
<li><p>The method get_simple_path() generates a list of points (PoolVector2Array) that represent the path from the enemy to the player.<br>Distance Calculation:</p>
</li>
<li><p>Use the distance_to() method to compute the straight-line distance between each pair of consecutive points.<br>Summing Up:</p>
</li>
<li><p>Loop through all the points (except the last one), calculate the distance between each pair, and sum them up.</p>
</li>
</ol>
<h1 id="Important-Notes"><a href="#Important-Notes" class="headerlink" title="Important Notes"></a>Important Notes</h1><p>Performance:</p>
<ol>
<li><p>This solution is efficient for most 2D games, but for a large number of entities or highly dynamic paths, consider optimizing how often you recalculate the path.<br>Error Handling:</p>
</li>
<li><p>Ensure that the turning_points array contains at least two points before starting the distance calculation to avoid runtime errors.<br>Godot 4.0 and Beyond:</p>
</li>
<li><p>Starting with Godot 4.0, the navigation system has been significantly updated. If you’re using Godot 4.0 or later, you might need to adapt this code to use the new APIs like NavigationRegion2D.</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      
      
      
      

    </footer>
  </div>
  
    
  
</article>

<!-- Table of Contents -->

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2019 - 2025 Duck Ridge All Rights Reserved.</p>
	      
	      
  		   	<p id="copyRightCn">Todd Huang hold copyright</p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/scripts.js"></script>


















  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Duck Ridge
          </div>
          <div class="panel-body">
            Copyright © 2025 Todd Huang All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
</body>
</html>